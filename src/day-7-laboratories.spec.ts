import { describe, expect, test } from "bun:test";

describe("part 1", () => {
  function solve(input: string) {
    const matrix = input.split("\n").map((row) => row.split(""));

    let answer = 0;

    for (let row = 0; row < matrix.length; row++) {
      for (let col = 0; col < matrix[row]!.length; col++) {
        const cell = matrix[row]![col]!;

        if (cell === "S") {
          matrix[row + 1]![col] = "|";
        }

        if (cell === "^" && matrix[row - 1]![col] === "|") {
          if (matrix[row]![col - 1] === ".") {
            matrix[row]![col - 1] = "|";
          }

          if (matrix[row]![col + 1] === ".") {
            matrix[row]![col + 1] = "|";
          }

          answer++;
        }

        if (cell === ".") {
          if (matrix[row - 1]?.[col]! === "|") {
            matrix[row]![col]! = "|";
          }
        }
      }
    }

    // for (const row of matrix) {
    //   console.log(row.join(""));
    // }

    return answer;
  }

  test("example", () => {
    const answer = solve(
      `.......S.......
...............
.......^.......
...............
......^.^......
...............
.....^.^.^.....
...............
....^.^...^....
...............
...^.^...^.^...
...............
..^...^.....^..
...............
.^.^.^.^.^...^.
...............`.trim()
    );

    expect(answer).toBe(21);
  });

  test("exam", () => {
    const answer = solve(
      `......................................................................S......................................................................
.............................................................................................................................................
......................................................................^......................................................................
.............................................................................................................................................
.....................................................................^.^.....................................................................
.............................................................................................................................................
....................................................................^...^....................................................................
.............................................................................................................................................
...................................................................^.^.^.^...................................................................
.............................................................................................................................................
..................................................................^.^.....^..................................................................
.............................................................................................................................................
.................................................................^.^.^.^.^.^.................................................................
.............................................................................................................................................
................................................................^.^.......^.^................................................................
.............................................................................................................................................
...............................................................^.^.^...^.^.^.^...............................................................
.............................................................................................................................................
..............................................................^.^.^.^.^.^.^...^..............................................................
.............................................................................................................................................
.............................................................^.^.^...^.......^.^.............................................................
.............................................................................................................................................
............................................................^.^.....^.^.^.^.^.^.^............................................................
.............................................................................................................................................
...........................................................^.^...^.^...^.^...^...^...........................................................
.............................................................................................................................................
..........................................................^.^...^...^...^.^...^.^.^..........................................................
.............................................................................................................................................
.........................................................^.^.^.^.^.^.....^.^.^...^.^.........................................................
.............................................................................................................................................
........................................................^.^...^...^.^...^.^.^.^...^.^........................................................
.............................................................................................................................................
.......................................................^.^.^...^.^...^.^...^.^.^.....^.......................................................
.............................................................................................................................................
......................................................^.^...^...^.^.^.^.^.^...^.^.^...^......................................................
.............................................................................................................................................
.....................................................^.^.^.^.^.^...^.^.^...^.........^.^.....................................................
.............................................................................................................................................
....................................................^...^...^.....^.....^.^.^.^.....^.^.^....................................................
.............................................................................................................................................
...................................................^...^.^.^.......^...^.....^.^.^...^.^.^...................................................
.............................................................................................................................................
..................................................^.....^.^.^.^.^.^.^.^.^...^...^.^.^.^...^..................................................
.............................................................................................................................................
.................................................^.^.^...^.^.^.....^.^.^.^.....^...^.^.^.^.^.................................................
.............................................................................................................................................
................................................^.^.....^.^...^.^.^...^.....^.^.^.^.^.^...^.^................................................
.............................................................................................................................................
...............................................^.^.^.^.^.^.^...^.^...^.^...^.^...^.^.^.^.^.^.^...............................................
.............................................................................................................................................
..............................................^.^.^.^.^.^...^...^...^...^.^.....^.^.^.^.^...^.^..............................................
.............................................................................................................................................
.............................................^...^.^...^.^.^.......^.^...^.^.^.^.^.^...^.^.....^.............................................
.............................................................................................................................................
............................................^...^.^...^.^.^.....^.....^.^.^.^.^.....^.^.....^...^............................................
.............................................................................................................................................
...........................................^.^.^.^.^.^.^.^.^.....^.^.^.^.^...^...^.^.^...^.....^.^...........................................
.............................................................................................................................................
..........................................^.^...^.^.^.^.^.^.^...^...^.^.^...^.^.^.^.^.^...^...^.^.^..........................................
.............................................................................................................................................
.........................................^.^...^...^.......^.^.^.^.^.....^.^.^...^.^.^.^.^.^...^.^.^.........................................
.............................................................................................................................................
........................................^.....^.^.....^.^...^.^...^.^.^.^...........^...^.^...^...^.^........................................
.............................................................................................................................................
.......................................^.^.^...^.^.^.^.^.^...^.^...^.^.........^.^.^.^.^.^.^.....^.^.^.......................................
.............................................................................................................................................
......................................^.....^.^...........^.^.^.^.......^...^.^.^...^.......^.......^.^......................................
.............................................................................................................................................
.....................................^.^.^.....^.^.^.^.^.....^...^.^.^.^.^...^.^...^.^...^...^...^...^.^.....................................
.............................................................................................................................................
....................................^.^.....^...^.^...^.^.....^.^.^.^.^...^.^...^.^...^.^.^.^...^...^...^....................................
.............................................................................................................................................
...................................^...^.^.^.^...^.^...^...^.......^.^.^.^.....^.^.^...^.^...^.^...^.^...^...................................
.............................................................................................................................................
..................................^...^.......^.^.^.^.^.......^.^.^.............^...^.....^...^.^...^.^.^.^..................................
.............................................................................................................................................
.................................^.^.^.^.......^.....^.^.^...^.....^.....^.^.^.^...^.^...^.^.^...^.......^.^.................................
.............................................................................................................................................
................................^...^.^.^...^.......^...^.^...^...^.^.^.^.^.^.^.....^.^...^.^...^.^...^.^...^................................
.............................................................................................................................................
...............................^...^.....^.^.^...^...........^.^...^.........^.^.^.^.^...^.^.^.^.^...^.^.^.^.^...............................
.............................................................................................................................................
..............................^.^...^.^.......^.....^.^.^.^...^.^.^...^.^...^.^.^...^.^.^.....^...^.^.^...^...^..............................
.............................................................................................................................................
.............................^.^.^...^.^.^...^.^.^.^.^.^.....^...^.^.^...^.....^.^.^.^.^...^...^.^.^.^.^.^.....^.............................
.............................................................................................................................................
............................^.^.^...^.^.^...^.^.....^.^...^.^.^.^...^...^...^.^.^.^.^.^...^.......^.^.^.^.^.^.^.^............................
.............................................................................................................................................
...........................^.^.^.^.^...^...^.^.^.^...^.^.........^.^.^...^.....^.^.^.^...^.^...^.^.....^...^.^.^.^...........................
.............................................................................................................................................
..........................^...^...^.^.^.^.^.^.^.^.^.^.^...^...^...^.^.^.^.^...^.......^.^...^.^.^.^.^.....^.^...^.^..........................
.............................................................................................................................................
.........................^.^...^.^.^.^.^.^...^...^...^.....^...^.^.^.^...^.....^.^...^.^...^...^...^.^.^.^.^...^...^.........................
.............................................................................................................................................
........................^.^...^...^.^...^.^.^.^.^...^.......^...^.^.....^.^.^.....^...^.^.^.^.^.^.^...^.^...^...^.^.^........................
.............................................................................................................................................
.......................^.^.^.^.^.^.^...^.......^...^.^.^.^.^.^...^.^.^...........^.^.^.^...^.^.....^.^.^.^...^.^.^...^.......................
.............................................................................................................................................
......................^.^.....^.^...^.^.....^.^.^...^.^.^.^.^.^...^.^.....^.....^...^.^.^.^.^.^.......^.^.^.^...^.^.^.^......................
.............................................................................................................................................
.....................^.^.^...^.^.^.....^.^.^.^...^...^.^.^.^.^.^.^.^.^.^.^...^.^.........^.^.^.^.^.^.^...^.....^...^...^.....................
.............................................................................................................................................
....................^.......^...^.^.^.^.............^.^.^.^.^...^.^.^.^.^.^.^.^.^.^...^.^.^.^.^.......^...^.^.^.^.^.^.^.^....................
.............................................................................................................................................
...................^.^.^.^.^.............^.^.^.^.^.^.^.^...^.^.^.^...^.^.^.........^.^...^...^.^.^...^.^.^.^...^.^.^...^.^...................
.............................................................................................................................................
..................^...^.^.^...^.^.^...^.^.^.....^.^.^.^.^.^.^.^...^...........^.^.^...^.....^...^.^.^.......^.^.....^.^.^.^..................
.............................................................................................................................................
.................^...^.^...^.....^.^.^...^.^.^.^...^.^.^...^...^.^.^.^.^.^.^.....^.^.^.....^...^...^.^.^...^.^...^.^...^...^.................
.............................................................................................................................................
................^.^.^.^.^.^.^.^...^.......^.^.^.....^.^.^...^.....^.^...^.^.^.......^.^.^.^...^.....^.^...^.^.^.^.......^...^................
.............................................................................................................................................
...............^.^.^.^...^...^.^.^.....^.^.^.^...^.^.^.^.^.^...^.^.^.^...^.^...^.^.^.......^.^.^.^...^.^.^.^.^.^...^.^.^...^.^...............
.............................................................................................................................................
..............^.^...^...^...^...^.^.^.^.^.......^.^.^.^.^...^.....^.^.^.^.......^.^.^.^.^.^.^.^.^...^...^.^.^.^.^.^...^.^...^.^..............
.............................................................................................................................................
.............^.^...^.^.^...^...^.......^.....^.^...^.......^.^.^.^...^.^.^.^...^.^.^.......^.^.......^.^...^.^.^.^.^.^.^.^.^.^.^.............
.............................................................................................................................................
............^.^...^.^.....^.^.^...^.^...^.^.^.......^.^.^.^.^.^.....^...^.....^.^.^...^.^...^...^.^.^.^.......^.......^.^.^.^.^.^............
.............................................................................................................................................
...........^.......^...^...^.....^.^...^.^...^...........^.^.^.^...^.......^...^.^.^.....^.^.....^.....^.^...^.^.^.^.^.^.^.....^.^...........
.............................................................................................................................................
..........^.....^.^.....^.^.^.^.^...^.^...^.^.^.^.^.^.^.^...^.^...^...^.^.^.^.^...^.^.....^.^...^...^...^.....^.^.^.^.^.^.^.^.^.^.^..........
.............................................................................................................................................
.........^.^.^.^.^...^.^...^.^.^...^.^.^...^.^.^.^.^.^.^.^...^.^.^.^.^...^.^.^...^.^...^.^.^.^.^...^...^.^.^.^.....^...^.....^.^.^.^.........
.............................................................................................................................................
........^.^.^...^.^.^.^.^.^.^.^.^.^.....^.....^.^.^.^.^.^...^.^.^.^.^.^.^.^.^.^.....^.^.....^.^.....^.....^...^...^.....^...^.......^........
.............................................................................................................................................
.......^.^.^.^.^.^.....^.^.^.^.^.^.^...^.^...^.....^.^...^.^.^.^.^...^...^.^.^.^.^.^.....^.^...^.....^.^.^.^.^.^.^.^.^...^.^.^...^...^.......
.............................................................................................................................................
......^.^...^.^...^.^.^.^...^...^...^.^...^.......^.^...^.^.^.....^.^.^.^.^.^...^.^...^...^.^...^.^.^.^.^.^.^.^.......^.^.^...^...^...^......
.............................................................................................................................................
.....^.^.^.^.^.^.^.....^.....^.^...^...^.^.^...^...^.^...^.^.^.^...^.^.^.^.^.^.^.....^.^.^...^.^.^.^.......^...^.^.......^.^.^.........^.....
.............................................................................................................................................
....^...^.^.^.^...^.....^...^...^.^.^.^.^.^.^.......^.^.^.^.^.^...^.^.....^.^...^.^.......^.^...^...^.^.^.^...^.^.^.^.......^.^.^.^...^.^....
.............................................................................................................................................
...^.^...^...^.^.^...^.^.^.^.^.^.^.^.^.^.^.^.^.....^.^.^.^.^.^...^...^.^...^.....^.^.....^.^.^...^.^.^.^.^...........^...^...^.^.^.....^.^...
.............................................................................................................................................
..^...........^.^.^.^.^.^.....^...^.^.^.^.^...^.^...^.^.^.^.^.^...^.^...^.^.^...^...^...^.^.^.^.^.^.^...^.^.....^.^.^.^.^.^.^.^.^.^.^.^.^.^..
.............................................................................................................................................
.^...^...^.^.........^...^.^.^.....^...^...^.^.^.^.^...^.^.^.^.^...^.........^.^...^.^.^...^.^.^.^.^...^.^.^.^.^.^.^.....^.....^.....^.^.^.^.
.............................................................................................................................................
`.trim()
    );

    console.log("day 7 part 1 answer", answer);

    expect(answer).toBeDefined();
  });
});

describe("part 2", () => {
  function solveRecursive(
    cache: Map<string, bigint>,
    matrix: string[][],
    row: number,
    col: number,
    height: number,
    width: number
  ): bigint {
    // console.log({ row, col, height, width });
    if (row >= height) {
      // for (const row of matrix) {
      //   console.log(row.join(""));
      // }
      return 1n;
    }

    const cKey = `${row},${col}`;
    if (cache.has(cKey)) {
      // for (const row of cache) {
      //   console.log(row.join("|"));
      // }
      return cache.get(cKey)!;
    }

    const cell = matrix[row]?.[col];
    // console.log({ cell });

    if (cell === "." || cell === "|") {
      matrix[row]![col] = "|";
      return solveRecursive(cache, matrix, row + 1, col, height, width);
    }

    if (cell === "^") {
      const a = solveRecursive(cache, matrix, row, col - 1, height, width);
      const b = solveRecursive(cache, matrix, row, col + 1, height, width);
      cache.set(cKey, a + b);
      return a + b;
    }

    cache.set(cKey, 0n);
    return 0n;
  }

  function solve(input: string) {
    const matrix = input.split("\n").map((row) => row.split(""));

    const height = matrix.length;
    const width = matrix[0]!.length;

    const col = matrix[0]!.findIndex((c) => c === "S");

    const cache = new Map<string, bigint>();

    const answer = solveRecursive(cache, matrix, 1, col, height, width);

    for (const row of matrix) {
      console.log(row.join(""));
    }

    return answer;
  }

  test("example", () => {
    const answer = solve(
      `.......S.......
...............
.......^.......
...............
......^.^......
...............
.....^.^.^.....
...............
....^.^...^....
...............
...^.^...^.^...
...............
..^...^.....^..
...............
.^.^.^.^.^...^.
...............`.trim()
    );

    expect(answer).toBe(40n);
  });

  test("exam", () => {
    const answer = solve(
      `......................................................................S......................................................................
.............................................................................................................................................
......................................................................^......................................................................
.............................................................................................................................................
.....................................................................^.^.....................................................................
.............................................................................................................................................
....................................................................^...^....................................................................
.............................................................................................................................................
...................................................................^.^.^.^...................................................................
.............................................................................................................................................
..................................................................^.^.....^..................................................................
.............................................................................................................................................
.................................................................^.^.^.^.^.^.................................................................
.............................................................................................................................................
................................................................^.^.......^.^................................................................
.............................................................................................................................................
...............................................................^.^.^...^.^.^.^...............................................................
.............................................................................................................................................
..............................................................^.^.^.^.^.^.^...^..............................................................
.............................................................................................................................................
.............................................................^.^.^...^.......^.^.............................................................
.............................................................................................................................................
............................................................^.^.....^.^.^.^.^.^.^............................................................
.............................................................................................................................................
...........................................................^.^...^.^...^.^...^...^...........................................................
.............................................................................................................................................
..........................................................^.^...^...^...^.^...^.^.^..........................................................
.............................................................................................................................................
.........................................................^.^.^.^.^.^.....^.^.^...^.^.........................................................
.............................................................................................................................................
........................................................^.^...^...^.^...^.^.^.^...^.^........................................................
.............................................................................................................................................
.......................................................^.^.^...^.^...^.^...^.^.^.....^.......................................................
.............................................................................................................................................
......................................................^.^...^...^.^.^.^.^.^...^.^.^...^......................................................
.............................................................................................................................................
.....................................................^.^.^.^.^.^...^.^.^...^.........^.^.....................................................
.............................................................................................................................................
....................................................^...^...^.....^.....^.^.^.^.....^.^.^....................................................
.............................................................................................................................................
...................................................^...^.^.^.......^...^.....^.^.^...^.^.^...................................................
.............................................................................................................................................
..................................................^.....^.^.^.^.^.^.^.^.^...^...^.^.^.^...^..................................................
.............................................................................................................................................
.................................................^.^.^...^.^.^.....^.^.^.^.....^...^.^.^.^.^.................................................
.............................................................................................................................................
................................................^.^.....^.^...^.^.^...^.....^.^.^.^.^.^...^.^................................................
.............................................................................................................................................
...............................................^.^.^.^.^.^.^...^.^...^.^...^.^...^.^.^.^.^.^.^...............................................
.............................................................................................................................................
..............................................^.^.^.^.^.^...^...^...^...^.^.....^.^.^.^.^...^.^..............................................
.............................................................................................................................................
.............................................^...^.^...^.^.^.......^.^...^.^.^.^.^.^...^.^.....^.............................................
.............................................................................................................................................
............................................^...^.^...^.^.^.....^.....^.^.^.^.^.....^.^.....^...^............................................
.............................................................................................................................................
...........................................^.^.^.^.^.^.^.^.^.....^.^.^.^.^...^...^.^.^...^.....^.^...........................................
.............................................................................................................................................
..........................................^.^...^.^.^.^.^.^.^...^...^.^.^...^.^.^.^.^.^...^...^.^.^..........................................
.............................................................................................................................................
.........................................^.^...^...^.......^.^.^.^.^.....^.^.^...^.^.^.^.^.^...^.^.^.........................................
.............................................................................................................................................
........................................^.....^.^.....^.^...^.^...^.^.^.^...........^...^.^...^...^.^........................................
.............................................................................................................................................
.......................................^.^.^...^.^.^.^.^.^...^.^...^.^.........^.^.^.^.^.^.^.....^.^.^.......................................
.............................................................................................................................................
......................................^.....^.^...........^.^.^.^.......^...^.^.^...^.......^.......^.^......................................
.............................................................................................................................................
.....................................^.^.^.....^.^.^.^.^.....^...^.^.^.^.^...^.^...^.^...^...^...^...^.^.....................................
.............................................................................................................................................
....................................^.^.....^...^.^...^.^.....^.^.^.^.^...^.^...^.^...^.^.^.^...^...^...^....................................
.............................................................................................................................................
...................................^...^.^.^.^...^.^...^...^.......^.^.^.^.....^.^.^...^.^...^.^...^.^...^...................................
.............................................................................................................................................
..................................^...^.......^.^.^.^.^.......^.^.^.............^...^.....^...^.^...^.^.^.^..................................
.............................................................................................................................................
.................................^.^.^.^.......^.....^.^.^...^.....^.....^.^.^.^...^.^...^.^.^...^.......^.^.................................
.............................................................................................................................................
................................^...^.^.^...^.......^...^.^...^...^.^.^.^.^.^.^.....^.^...^.^...^.^...^.^...^................................
.............................................................................................................................................
...............................^...^.....^.^.^...^...........^.^...^.........^.^.^.^.^...^.^.^.^.^...^.^.^.^.^...............................
.............................................................................................................................................
..............................^.^...^.^.......^.....^.^.^.^...^.^.^...^.^...^.^.^...^.^.^.....^...^.^.^...^...^..............................
.............................................................................................................................................
.............................^.^.^...^.^.^...^.^.^.^.^.^.....^...^.^.^...^.....^.^.^.^.^...^...^.^.^.^.^.^.....^.............................
.............................................................................................................................................
............................^.^.^...^.^.^...^.^.....^.^...^.^.^.^...^...^...^.^.^.^.^.^...^.......^.^.^.^.^.^.^.^............................
.............................................................................................................................................
...........................^.^.^.^.^...^...^.^.^.^...^.^.........^.^.^...^.....^.^.^.^...^.^...^.^.....^...^.^.^.^...........................
.............................................................................................................................................
..........................^...^...^.^.^.^.^.^.^.^.^.^.^...^...^...^.^.^.^.^...^.......^.^...^.^.^.^.^.....^.^...^.^..........................
.............................................................................................................................................
.........................^.^...^.^.^.^.^.^...^...^...^.....^...^.^.^.^...^.....^.^...^.^...^...^...^.^.^.^.^...^...^.........................
.............................................................................................................................................
........................^.^...^...^.^...^.^.^.^.^...^.......^...^.^.....^.^.^.....^...^.^.^.^.^.^.^...^.^...^...^.^.^........................
.............................................................................................................................................
.......................^.^.^.^.^.^.^...^.......^...^.^.^.^.^.^...^.^.^...........^.^.^.^...^.^.....^.^.^.^...^.^.^...^.......................
.............................................................................................................................................
......................^.^.....^.^...^.^.....^.^.^...^.^.^.^.^.^...^.^.....^.....^...^.^.^.^.^.^.......^.^.^.^...^.^.^.^......................
.............................................................................................................................................
.....................^.^.^...^.^.^.....^.^.^.^...^...^.^.^.^.^.^.^.^.^.^.^...^.^.........^.^.^.^.^.^.^...^.....^...^...^.....................
.............................................................................................................................................
....................^.......^...^.^.^.^.............^.^.^.^.^...^.^.^.^.^.^.^.^.^.^...^.^.^.^.^.......^...^.^.^.^.^.^.^.^....................
.............................................................................................................................................
...................^.^.^.^.^.............^.^.^.^.^.^.^.^...^.^.^.^...^.^.^.........^.^...^...^.^.^...^.^.^.^...^.^.^...^.^...................
.............................................................................................................................................
..................^...^.^.^...^.^.^...^.^.^.....^.^.^.^.^.^.^.^...^...........^.^.^...^.....^...^.^.^.......^.^.....^.^.^.^..................
.............................................................................................................................................
.................^...^.^...^.....^.^.^...^.^.^.^...^.^.^...^...^.^.^.^.^.^.^.....^.^.^.....^...^...^.^.^...^.^...^.^...^...^.................
.............................................................................................................................................
................^.^.^.^.^.^.^.^...^.......^.^.^.....^.^.^...^.....^.^...^.^.^.......^.^.^.^...^.....^.^...^.^.^.^.......^...^................
.............................................................................................................................................
...............^.^.^.^...^...^.^.^.....^.^.^.^...^.^.^.^.^.^...^.^.^.^...^.^...^.^.^.......^.^.^.^...^.^.^.^.^.^...^.^.^...^.^...............
.............................................................................................................................................
..............^.^...^...^...^...^.^.^.^.^.......^.^.^.^.^...^.....^.^.^.^.......^.^.^.^.^.^.^.^.^...^...^.^.^.^.^.^...^.^...^.^..............
.............................................................................................................................................
.............^.^...^.^.^...^...^.......^.....^.^...^.......^.^.^.^...^.^.^.^...^.^.^.......^.^.......^.^...^.^.^.^.^.^.^.^.^.^.^.............
.............................................................................................................................................
............^.^...^.^.....^.^.^...^.^...^.^.^.......^.^.^.^.^.^.....^...^.....^.^.^...^.^...^...^.^.^.^.......^.......^.^.^.^.^.^............
.............................................................................................................................................
...........^.......^...^...^.....^.^...^.^...^...........^.^.^.^...^.......^...^.^.^.....^.^.....^.....^.^...^.^.^.^.^.^.^.....^.^...........
.............................................................................................................................................
..........^.....^.^.....^.^.^.^.^...^.^...^.^.^.^.^.^.^.^...^.^...^...^.^.^.^.^...^.^.....^.^...^...^...^.....^.^.^.^.^.^.^.^.^.^.^..........
.............................................................................................................................................
.........^.^.^.^.^...^.^...^.^.^...^.^.^...^.^.^.^.^.^.^.^...^.^.^.^.^...^.^.^...^.^...^.^.^.^.^...^...^.^.^.^.....^...^.....^.^.^.^.........
.............................................................................................................................................
........^.^.^...^.^.^.^.^.^.^.^.^.^.....^.....^.^.^.^.^.^...^.^.^.^.^.^.^.^.^.^.....^.^.....^.^.....^.....^...^...^.....^...^.......^........
.............................................................................................................................................
.......^.^.^.^.^.^.....^.^.^.^.^.^.^...^.^...^.....^.^...^.^.^.^.^...^...^.^.^.^.^.^.....^.^...^.....^.^.^.^.^.^.^.^.^...^.^.^...^...^.......
.............................................................................................................................................
......^.^...^.^...^.^.^.^...^...^...^.^...^.......^.^...^.^.^.....^.^.^.^.^.^...^.^...^...^.^...^.^.^.^.^.^.^.^.......^.^.^...^...^...^......
.............................................................................................................................................
.....^.^.^.^.^.^.^.....^.....^.^...^...^.^.^...^...^.^...^.^.^.^...^.^.^.^.^.^.^.....^.^.^...^.^.^.^.......^...^.^.......^.^.^.........^.....
.............................................................................................................................................
....^...^.^.^.^...^.....^...^...^.^.^.^.^.^.^.......^.^.^.^.^.^...^.^.....^.^...^.^.......^.^...^...^.^.^.^...^.^.^.^.......^.^.^.^...^.^....
.............................................................................................................................................
...^.^...^...^.^.^...^.^.^.^.^.^.^.^.^.^.^.^.^.....^.^.^.^.^.^...^...^.^...^.....^.^.....^.^.^...^.^.^.^.^...........^...^...^.^.^.....^.^...
.............................................................................................................................................
..^...........^.^.^.^.^.^.....^...^.^.^.^.^...^.^...^.^.^.^.^.^...^.^...^.^.^...^...^...^.^.^.^.^.^.^...^.^.....^.^.^.^.^.^.^.^.^.^.^.^.^.^..
.............................................................................................................................................
.^...^...^.^.........^...^.^.^.....^...^...^.^.^.^.^...^.^.^.^.^...^.........^.^...^.^.^...^.^.^.^.^...^.^.^.^.^.^.^.....^.....^.....^.^.^.^.
.............................................................................................................................................`.trim()
    );

    console.log("day 7 part 2 answer", answer);

    expect(answer).toBeDefined();
  });
});
